<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}Nigerian Defence Academy{% endblock %}

{% block content %}

    <div style="height: 1300px;" class="container">
      <div class="row" style="display: flex; flex-wrap: wrap; justify-content: space-between;">
        <div class="card-col-lg">
          <h3 style="color: rgb(0, 68, 171);">
            <a href="{{ url_for('select_course', id=course_no.id)}}"> {{ course_no.course_no }} RC </a>
          </h3>
        
          <h5 class="card-subtitle mb-2 text-body-secondary"> {{ battalion.bn.upper() }} | <span style="font-weight: normal; font-size: small; color: grey;">Postal Strenght: {{ course_cadets_count }}</span></h5>
     
        </div>

        <div class="card-col">
          <a class="link-card" href="{{ url_for('select_course_bn_service', bn_id=bn_id, id=course_no.id, service_id=1) }}" >
            <div class="card-body">  
              <div class="col">
                <p class="card-heading-text"><b>Army: {{ army_cdts_count }} </b></p>
                <hr style="width: 70%;">               
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-male" aria-hidden="true"></i> Male: {{ army_male_cdts_count }}</p>
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-female" aria-hidden="true"></i> Female: {{ army_female_cdts_count }}</p>            
              </div>
            </div> 
          </a>
        </div>

        <div class="card-col">
          <a class="link-card" href="{{ url_for('select_course_bn_service', bn_id=bn_id, id=course_no.id, service_id=2) }}">
            <div class="card-body">  
              <div class="col">
                <p class="card-heading-text"><b>Navy: {{ navy_cdts_count }} </b></p>
                <hr style="width: 70%;">
                                 
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-male" aria-hidden="true"></i> Male: {{ navy_male_cdts_count }}</p>
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-female" aria-hidden="true"></i> Female: {{ navy_female_cdts_count }}</p>            
              </div>
            </div>
          </a> 
        </div>

        <div class="card-col">
          <a class="link-card" href="{{ url_for('select_course_bn_service', bn_id=bn_id, id=course_no.id, service_id=3) }}">
            <div class="card-body">  
              <div class="col">
                <p class="card-heading-text"><b>Airforce: {{ airforce_cdts_count }} </b></p>
                <hr style="width: 70%;">
                                  
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-male" aria-hidden="true"></i> Male: {{ airforce_male_cdts_count }}</p>
                <p class="card-text"><i style="color: #0d6efd;" class="fa fa-female" aria-hidden="true"></i> Female: {{ airforce_female_cdts_count }}</p>            
              </div>
            </div>
          </a> 
        </div>

        <div class="card-col-lg">
          {% for bn in other_bn %}
          <a style="padding: 0.5rem; font-size: 0.9rem;" href="{{ url_for('select_course_bn', bn_id=bn.id, id=course_no.id) }}">
            {{ bn.bn.capitalize() }}
          </a>
          {% endfor %}
        </div>
        
      </div>
        
          <hr style="margin: 10px auto;">
      
    
      <div style="justify-content: center;" class="container">
        <div style="width: 100%;" id="autocomplete-suggestions" class="autocomplete-suggestions custom-container">
        <table class="custom-table table-sm table-hover">
          <thead style="background-color: rgb(64, 179, 224);">
            <tr>
              <th style="width: 5%;" scope="col">Serial</th>
              <th style="width: 20%;" scope="col">Cadet Number</th>
              <th style="width: 30%;" scope="col">Name</th>
              <th style="width: 10%;" scope="col">Service</th>
              <th style="width: 10%;" scope="col">Battalion</th>
              <th style="width: 30%;" scope="col">Department</th>
            </tr>
          </thead>

          <tbody id="cadet-table-body">
          {% for row in cadets %}
            <tr class="active-row">
              <th scope="row">{{ (page - 1) * per_page + loop.index }}</th>
              
                <td data-cell="Cadet No">{{ row.cadet_no }}</td>
                <td data-cell="Name"><a style="text-decoration: none; color: rgb(0, 68, 171);" href="{{ url_for('student_info', id=row.id) }}">{{ row.first_name }} {{ row.middle_name }} {{ row.last_name }}</a></td>
                <td data-cell="Service">{{ row.service.service_type.title() }} </td>
                <td data-cell="Battalion">{{ row.bn.bn.title() }} </td>
                <td data-cell="Department">{{ row.department.department_name.title() }} </td>
              
            </tr>
          {% endfor %}
          </tbody>

        </table>
      </div>
        <!-- Your pagination controls -->
        <div class="pagination pagination-sm justify-content-center">
            
          {% if page > 1 %}
          <a href="{{ url_for('select_course_bn', page=page-1, id=course, bn_id=bn_id) }}" class="btn btn-primary btn-sm" aria-label="previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
          {% endif %}

          <span class="badge bg-secondary">Page {{ page }} of {{ (total // per_page) + 1 }}</span>

          {% if page * per_page < total %}
          <a href="{{ url_for('select_course_bn', page=page+1, id=course, bn_id=bn_id) }}" class="btn btn-primary btn-sm" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
          {% endif %}
        </div>
      </div>
        
    </div>
  

{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% endblock %}
    
{% endblock %}