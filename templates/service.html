<!DOCTYPE html>
{% extends "base.html" %} {% block title %}Nigerian Defence Academy{% endblock
%} {% block content %}

<div class="container">
  <div class="row" style="display: flex; flex-wrap: wrap; justify-content: space-between;">
    <div class="col">
      <h3 style="color: rgb(0, 68, 171)">
        <a href="{{ url_for('select_course', id=course_no.id)}}">
          {{ course_no.course_no }} RC
        </a>
      </h3>

      <h5 class="card-subtitle mb-2 text-body-secondary">
        {{ battalion.bn.upper() }}
      </h5>
      <h6 class="card-subtitle mb-2 text-body-secondary">
        {{ service.service_type.capitalize() }} |
        <span style="font-weight: normal; font-size: small; color: grey"
          >Strenght: {{ course_cadets_count }}</span
        >
      </h6>
    </div>

    <div class="col align-items-end" style="padding: 0;">
      {% for bn in other_bn %}
      <a
        style="padding: 10px; align-items: end;"
        href="{{ url_for('select_course_bn_service', bn_id=bn.id, id=course_no.id, service_id=service.id) }}"
      >
        {{ bn.bn.capitalize() }}
      </a>
      {% endfor %}
    </div>
  </div>

  <!-- <h1>{{ course }} RC</h1> -->
  <div class="container" style="font-size: 12px">
    <hr style="margin: 10px auto" />
  </div>

  <div style="margin: 0" class="container">
    <div
      style="margin: 0"
      id="autocomplete-suggestions"
      class="autocomplete-suggestions custom-container"
    >
    <div style="margin: 0; padding: 0;" class="scrollable-table">
      <table
        style="margin: 0"
        class="custom-table table-sm table-hover"
      >
        <thead style="background-color: rgb(64, 179, 224)">
          <tr>
            <th style="width: 5%" scope="col">Serial</th>
            <th style="width: 20%" scope="col">Cadet Number</th>
            <th style="width: 30%" scope="col">Name</th>
            <th style="width: 10%" scope="col">Service</th>
            <th style="width: 10%" scope="col">Battalion</th>
            <th style="width: 30%" scope="col">Department</th>
          </tr>
        </thead>

        <tbody id="cadet-table-body">
          {% for row in cadets %}
          <tr class="active-row">
            <th scope="row">{{ (page - 1) * per_page + loop.index }}</th>

            <td data-cell="cadet no.">{{ row.cadet_no }}</td>
            <td data-cell="name">
              <a
                style="text-decoration: none; color: rgb(0, 68, 171)"
                href="{{ url_for('student_info', id=row.id) }}"
                >{{ row.first_name }} {{ row.middle_name }} {{ row.last_name
                }}</a
              >
            </td>
            <td data-cell="service">{{ row.service.service_type.capitalize() }}</td>
            <td data-cell="battalion">{{ row.bn.bn.capitalize() }}</td>
            <td data-cell="department">{{ row.department.department_name.title() }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    </div>

    <!-- Your pagination controls -->
    <div class="pagination pagination-sm justify-content-center">
      {% if page > 1 %}
      <a
        href="{{ url_for('select_course_bn', page=page-1, id=course, bn_id=bn_id) }}"
        class="btn btn-primary btn-sm"
        aria-label="previous"
      >
        <span aria-hidden="true">&laquo;</span>
      </a>
      {% endif %}

      <span class="badge bg-secondary"
        >Page {{ page }} of {{ (total // per_page) + 1 }}</span
      >

      {% if page * per_page < total %}
      <a
        href="{{ url_for('select_course_bn', page=page+1, id=course, bn_id=bn_id) }}"
        class="btn btn-primary btn-sm"
        aria-label="Next"
      >
        <span aria-hidden="true">&raquo;</span>
      </a>
      {% endif %}
    </div>
  </div>
</div>

{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% endblock %} {% endblock %}
